(this["webpackJsonpblog-articles"]=this["webpackJsonpblog-articles"]||[]).push([[0],{224:function(e,a,t){e.exports=t(394)},248:function(e,a,t){},254:function(e,a,t){},298:function(e,a,t){},378:function(e,a,t){},393:function(e,a,t){},394:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(21),l=t.n(c),u=t(14),i=t(191),o=t(69),s=t(192),m=t(87),d=t(400),p=t(28),f=t.n(p),E=t(64),b=t(78),v=t.n(b),h=t(403);v.a.defaults.baseURL="https://conduit.productionready.io/api/";var g,O=function(){return"users"},j=function(){return"users/login"},w=function(){return"user"},x=function(e){return"articles/".concat(e)},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"articles?limit=".concat(e,"&offset=").concat(a)},N=Object(h.a)("CHANGE_FETCH_STATUS"),y=Object(h.a)("CHANGE_LOADING_STATUS"),S=Object(h.a)("LOGIN_USER"),I=Object(h.a)("LOGOUT_USER"),C=Object(h.a)("LOAD_ARTICLES_LIST"),A=Object(h.a)("LOAD_CURRENT_ARTICLE"),z=function(){var e=Object(E.a)(f.a.mark((function e(a,t,n){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(n,{user:a});case 2:r=e.sent,c=r.data,localStorage.setItem("token",c.user.token),t(N(null)),t(S(c.user));case 7:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),L=function(e,a){return function(){var t=Object(E.a)(f.a.mark((function t(n){var r,c,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y(!0)),t.prev=1,r=k(e,a),t.next=5,v.a.get(r);case 5:c=t.sent,l=c.data,n(C(l)),n(y(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(y(!1));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e,a){return function(){var t=Object(E.a)(f.a.mark((function t(n){var r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y(!0)),t.prev=1,t.next=4,z(e,n,j());case 4:n(y(!1)),t.next=14;break;case 7:t.prev=7,t.t0=t.catch(1),r=t.t0.response,c=r.data.errors,n(N(c)),n(y(!1)),a("password","email or password ".concat(c["email or password"]));case 14:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},U=Object(d.a)((g={},Object(m.a)(g,I,(function(){})),Object(m.a)(g,S,(function(e,a){return a.payload})),g),{}),q=Object(d.a)(Object(m.a)({},N,(function(e,a){return a.payload})),{}),F=Object(d.a)(Object(m.a)({},y,(function(e,a){return a.payload})),!1),_=Object(d.a)(Object(m.a)({},C,(function(e,a){return a.payload})),{}),D=Object(d.a)(Object(m.a)({},A,(function(e,a){return a.payload})),{}),R=Object(o.combineReducers)({currentUser:U,errors:q,loading:F,articlesData:_,currentArticle:D}),G=(t(169),t(248),t(32)),B=t(9),H=t(193),W=t.n(H),J=t(141),P=t(404),V=(t(254),function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.currentUser})),t=!!a.id,n=r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null,r.a.createElement(G.c,{to:"/login",className:"link"},"Sign In")),r.a.createElement("li",null,r.a.createElement(G.c,{to:"/signup",className:"link"},"Sign Up")))),c=r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null,r.a.createElement(J.a,{size:"large"},"Create Article")),r.a.createElement("li",{className:"link"},a.username),r.a.createElement("li",{className:"link"},r.a.createElement(J.a,{disabled:!1,size:"large",icon:r.a.createElement(P.a,null),onClick:function(a){a.preventDefault(),localStorage.removeItem("token"),e(I())}},"\u0412\u044b\u0439\u0442\u0438"))));return r.a.createElement("header",{className:"header"},r.a.createElement(G.c,{to:"/",className:"headline"},"\u0413\u043e\u043f-\u0431\u043b\u043e\u0433"),t?c:n)}),Z=t(26),M=t(66),Y=t(399),$=t(401),K=t(396),Q=t(405),X=t(406),ee=t(407),ae=(t(298),M.a().shape({username:M.b().max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e - \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),password:M.b().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d\w\W]{6,40}$/,"\u043e\u0442 6 \u0434\u043e 40 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u0430 \u0446\u0438\u0444\u0440\u0430 \u0438 \u043e\u0434\u043d\u0430 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0430\u044f \u0431\u0443\u043a\u0432\u0430").required("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0443\u0436\u0435\u043d"),email:M.b().email("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430").required("\u041f\u043e\u0447\u0442\u0443, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430")})),te={username:"",password:"",email:""},ne=function(){var e=Object(u.b)();return r.a.createElement("div",{className:"formContainer"},r.a.createElement(Z.c,{initialValues:te,validationSchema:ae,onSubmit:function(a,t){var n=t.setFieldError;e(function(e,a){return function(){var t=Object(E.a)(f.a.mark((function t(n){var r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y(!0)),t.prev=1,t.next=4,z(e,n,O());case 4:n(y(!1)),t.next=16;break;case 7:t.prev=7,t.t0=t.catch(1),r=t.t0.response,c=r.data.errors,n(N(c)),n(y(!1)),a("email",c.email),a("username",c.username),a("password",c.password);case 16:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(a,n))}},r.a.createElement(Y.a,{className:"form"},r.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),r.a.createElement("div",{className:"formItem"},r.a.createElement("label",{htmlFor:"username"},"\u0418\u043c\u044f",r.a.createElement("span",{className:"required-star"}," *")),r.a.createElement(Y.a.Item,{name:"username"},r.a.createElement($.a,{id:"username",name:"username",placeholder:"\u0418\u0432\u0430\u043d",size:"large",suffix:r.a.createElement(Q.a,null)}))),r.a.createElement("div",{className:"formItem"},r.a.createElement("label",{htmlFor:"email"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043f\u043e\u0447\u0442\u0430",r.a.createElement("span",{className:"required-star"}," *")),r.a.createElement(Y.a.Item,{name:"email"},r.a.createElement($.a,{id:"email",name:"email",placeholder:"ivan@mail.ru",size:"large",suffix:r.a.createElement(X.a,null)}))),r.a.createElement("div",{className:"formItem"},r.a.createElement("label",{htmlFor:"pwd"},"\u041f\u0430\u0440\u043e\u043b\u044c",r.a.createElement("span",{className:"required-star"}," *")),r.a.createElement(Y.a.Item,{name:"password"},r.a.createElement($.a.Password,{id:"pwd",name:"password",placeholder:"bu7UYvjl2nkj9WNshd",size:"large",autoComplete:"off"}))),r.a.createElement("div",{className:"formButtonsContainer"},r.a.createElement(K.a,{loading:!1,disabled:!1,size:"large",shape:"round",icon:r.a.createElement(ee.a,null),className:"button"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))),r.a.createElement("div",{className:"link-container"},r.a.createElement("span",null,"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c? "),r.a.createElement(G.b,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438")))},re=t(408),ce=(t(378),{password:"",email:""}),le=M.a().shape({password:M.b().required("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0443\u0436\u0435\u043d"),email:M.b().email("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430").required("\u041f\u043e\u0447\u0442\u0443, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430")}),ue=function(){var e=Object(u.b)(),a=function(){var a=Object(E.a)(f.a.mark((function a(t,n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=n.setFieldError,e(T(t,r));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"formContainer"},r.a.createElement(Z.c,{initialValues:ce,validationSchema:le,onSubmit:a},r.a.createElement(Y.a,null,r.a.createElement("h1",null,"\u0412\u0445\u043e\u0434"),r.a.createElement("div",{className:"formItem"},r.a.createElement("label",{htmlFor:"email"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043f\u043e\u0447\u0442\u0430",r.a.createElement("span",{className:"required-star"}," *")),r.a.createElement(Y.a.Item,{name:"email"},r.a.createElement($.a,{id:"email",name:"email",placeholder:"ivan@mail.ru",size:"large",suffix:r.a.createElement(X.a,null)}))),r.a.createElement("div",{className:"formItem"},r.a.createElement("label",{htmlFor:"pwd"},"\u041f\u0430\u0440\u043e\u043b\u044c",r.a.createElement("span",{className:"required-star"}," *")),r.a.createElement(Y.a.Item,{name:"password"},r.a.createElement($.a.Password,{id:"pwd",name:"password",size:"large",autoComplete:"off"}))),r.a.createElement("div",{className:"formButtonsContainer"},r.a.createElement(K.a,{loading:!1,disabled:!1,size:"large",shape:"round",icon:r.a.createElement(re.a,null),className:"button"},"\u0412\u043e\u0439\u0442\u0438")))),r.a.createElement("div",{className:"link-container"},r.a.createElement(G.b,{to:"/signup"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))},ie=t(398),oe=t(397),se=t(47),me=t(48);function de(){var e=Object(se.a)(["\n  text-align: center;\n  padding: 5px;\n"]);return de=function(){return e},e}function pe(){var e=Object(se.a)(["\n  padding: 5px;\n  margin-right: 10px;\n  border: 1px solid gray;\n  border-radius: 5px;\n"]);return pe=function(){return e},e}function fe(){var e=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]);return fe=function(){return e},e}function Ee(){var e=Object(se.a)(["\n  margin: 10px;\n  padding: 20px;\n  text-decoration: none;\n  list-style: none;\n  background-color: white;\n"]);return Ee=function(){return e},e}function be(){var e=Object(se.a)(["\n  padding: 0;\n  margin: 0 auto;\n  width: 70%;\n"]);return be=function(){return e},e}var ve=me.a.ul(be()),he=me.a.li(Ee()),ge=me.a.div(fe()),Oe=me.a.span(pe()),je=me.a.div(de()),we=function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.articlesData})),t=a.articles,n=a.articlesCount,c=void 0===n?1:n,l=r.a.createElement(ve,{className:"articlesList"},t?t.map((function(e){var a=e.slug,t=e.title,n=e.tagList,c=e.author,l=e.createdAt,u=e.favoritesCount;return r.a.createElement(he,{key:a,className:"article"},r.a.createElement(G.c,{to:"/articles/".concat(a)},r.a.createElement("h2",null,t),r.a.createElement(ge,null,n.map((function(e){return r.a.createElement(Oe,{key:e,className:"tag"},e)}))),r.a.createElement("br",null),"author:"," ",c.username,r.a.createElement("br",null),"created:"," ",Object(oe.a)(new Date(l),Date.now(),{includeSeconds:!0})," ","ago"),r.a.createElement("br",null),"likes:"," ",u)})):null);return r.a.createElement(r.a.Fragment,null,l,r.a.createElement(je,null,r.a.createElement(ie.a,{total:c,onChange:function(a,t){e(L(t,a*t-t))},showSizeChanger:!1,defaultCurrent:1})))};function xe(){var e=Object(se.a)(["\n  padding: 5px;\n  border: 1px solid green;\n"]);return xe=function(){return e},e}function ke(){var e=Object(se.a)(["\n  font-size: 24px;\n  color: black;\n"]);return ke=function(){return e},e}function Ne(){var e=Object(se.a)(["\n  opacity: 0.7;\n"]);return Ne=function(){return e},e}function ye(){var e=Object(se.a)(["\n  font-size: 40px;\n  color: #1890ff;\n"]);return ye=function(){return e},e}function Se(){var e=Object(se.a)(["\n  padding: 0;\n  margin: 0 auto;\n  width: 80%;\n"]);return Se=function(){return e},e}var Ie=me.a.div(Se()),Ce=me.a.div(ye()),Ae=me.a.div(Ne()),ze=me.a.div(ke()),Le=me.a.span(xe()),Te=function(){var e=Object(u.b)(),a=Object(B.g)().slug;Object(n.useEffect)((function(){e(function(e){return function(){var a=Object(E.a)(f.a.mark((function a(t){var n,r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(y(!0)),a.prev=1,n=x(e),a.next=5,v.a.get(n);case 5:r=a.sent,c=r.data.article,t(A(c)),t(y(!1)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t(y(!1));case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(a))}),[]);var t=Object(u.c)((function(e){return e.currentArticle})),c=t.title,l=t.body,i=t.createdAt,o=t.updatedAt,s=t.tagList,m=t.description,d=t.author,p=t.favorited,b=t.favoritesCount;return r.a.createElement(Ie,null,r.a.createElement(Ce,null,c),r.a.createElement(Ae,null,m),r.a.createElement(Le,null,s),r.a.createElement(ze,null,l),r.a.createElement("br",null),i,r.a.createElement("br",null),o,r.a.createElement("br",null),d?d.username:null,r.a.createElement("br",null),p?r.a.createElement("p",null,"liked"):r.a.createElement("p",null,"notLiked"),r.a.createElement("br",null),b)},Ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"))},qe=t(221),Fe=function(e){var a=e.component,t=Object(qe.a)(e,["component"]);return r.a.createElement(B.b,Object.assign({},t,{render:function(){return localStorage.getItem("token")?r.a.createElement(B.a,{to:"/"}):r.a.createElement(a,null)}}))},_e=(t(393),function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.currentUser})),t=Object(u.c)((function(e){return e.loading}));return Object(n.useEffect)((function(){e(function(){var e=Object(E.a)(f.a.mark((function e(a){var t,n,r,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage,n=t.token){e.next=3;break}return e.abrupt("return");case 3:return a(y(!0)),e.prev=4,e.next=7,v.a.interceptors.request.use((function(e){return e.headers.Authorization="Token ".concat(n),e}));case 7:return r=w(),e.next=10,v.a.get(r);case 10:c=e.sent,l=c.data,a(S(l.user)),a(y(!1)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),401===e.t0.response.status&&localStorage.removeItem("token"),a(y(!1));case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(a){return e.apply(this,arguments)}}())}),[a.id]),Object(n.useEffect)((function(){e(L())}),[]),r.a.createElement(G.a,null,r.a.createElement(V,null),r.a.createElement(W.a,{loaded:!t}),r.a.createElement(B.d,null,r.a.createElement(B.b,{exact:!0,path:"/",component:we}),r.a.createElement(B.b,{path:"/articles/:slug",component:Te}),r.a.createElement(Fe,{exact:!0,path:"/login",component:ue}),r.a.createElement(Fe,{exact:!0,path:"/signup",component:ne}),r.a.createElement(B.b,{path:"*",component:Ue})))}),De=Object(o.createStore)(R,Object(s.composeWithDevTools)(Object(o.applyMiddleware)(i.a)));l.a.render(r.a.createElement(u.a,{store:De},r.a.createElement(_e,null)),document.getElementById("root"))}},[[224,1,2]]]);
//# sourceMappingURL=main.4a5447f7.chunk.js.map